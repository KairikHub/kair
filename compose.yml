services:
  kair:
    build: .
    container_name: kair
    entrypoint: ["npm", "run", "kair", "--"]
    command: ["sleep", "infinity"]
    stdin_open: true
    tty: true
    env_file:
      - path: ./.env
        required: false
    environment:
      OPENAI_API_KEY: ${KAIR_OPENAI_API_KEY:-}
      OPENAI_BASE_URL: ${OPENAI_BASE_URL:-}
      KAIR_LLM_PROVIDER: ${KAIR_LLM_PROVIDER:-openai}
      KAIR_LLM_MODEL: ${KAIR_LLM_MODEL:-gpt-5.1}
    volumes:
      - .:/app
      - /app/node_modules
